# TDD

---

### TDD 3가지 원칙

* failing test 가 있는 경우에 실제 프로젝트에 코드를 작성하라
* 실패를 나타내는 충분한 테스트를 작성하라
* 실패하는 테스트가 있으면 그게 성공하는 테스트만 작성해라

### TDD 절차

* 실패 테스트를 작성하라 (레드)
* 실패가 테스트가 돌아갈정도로 최소한으로 작성하라 (그린)
* **리펙토링하라 (블루)**
  * 중복을 배제하라
* 더이상 생각할 수 있는 테스트가 없을때 그만둬라

### 원칙 과 팁

* 어떤 테스트 코드를 먼저할 것인가
  * 쉬운것 먼저 해야한다.
  * 가장 단순하고 심플한것, 수준이하의 테스트
* 테스트가 실패 일 때 성공으로 변경될때 최소한의 코드를 수정해서 해라
* 테스트가 구체화 될수록 프로젝트는 매우 범용적인 Generic 되게 된다.

### TDD의 이점

* 디버깅 타임을 줄일 수 있다.
* 테스트를 먼적 작성 시에는 프로젝트 코드의 의존성 및 커플링이 좋은 구조가 될 수 있다.
* 모든 코스트를 테스트하는 방법은 테스트코드에서 그 코드들에 접근 하는 것이다.
* 테스트코드가 잘 짜여있다면 소스의 변경전이 두렵지 않을 것이다.
* 테스트는 코드를 깨끗하게 하고, 썩는 것을 방지한다.
* 완벽한 설계에도 테스트가 없다면 추후 점진적으로 스파게티 코드가 될것이다.
* 테스트코드를 나중에 추가 되었다면 , 그 테스트를 신뢰할 수 없다.

---

## TDD 실습

* 볼링은 10개의 프레임으로 구성
* 각 프레임은 2개의 롤을 갖는다 (10개의 핀을 쓰러트러기위해 2번의 기회를 얻는다)
* Spare : 10 + Next first roll에서 쓰러트린 핀수
* Strike 10 + nest two rolls에 쓰러트린 핀수
* 10th 프레임은 특별하다, Spare 처리하면 3번 던질 수 있음
* 목적
  * Game 이라는 클래스를 생성하는것
  * roll 과 score라는 2개의 메소드를 갖는다
  * roll 메소드는 ball을 roll 할때마다 호출된다, 인자료는 쓰러트린 핀의 갯술를 갖는다
  * Score 메소드는 게임이 끄난 후 에만 호출되어 게임의 점수를 반환한다.

```csharp
public class Game
{
	List<Frame> _frames = new(10);

}

public class Frame
{
}
```
